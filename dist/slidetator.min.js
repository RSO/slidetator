/*! SlideTator - v0.2.0 - 2012-11-02
* https://github.com/vergil/slidetator
* Copyright (c) 2012 Remon Oldenbeuving, Mark Haasjes; Licensed MIT, GPL */
var DefaultSlideView;DefaultSlideView=function(){function e(e,t,n,r){this.elements=e,this.current=t,this.options=n,this.container=r,this.show(this.current)}return e.prototype.nextIndex=function(){var e;return e=this.current+1,e>this.elements.length-1&&(e=0),e},e.prototype.previousIndex=function(){var e;return e=this.current-1,e<0&&(e=this.elements.length-1),e},e.prototype.next=function(e){return this.show(this.nextIndex(),e)},e.prototype.previous=function(e){return this.show(this.previousIndex(),e)},e.prototype.show=function(e,t){return this.elements.hide().eq(e).show(),this.current=e,this.showRegions(),this.updateActiveClasses(),t()},e.prototype.updateActiveClasses=function(){return this.elements.removeClass("next current previous"),this.elements.eq(this.nextIndex()).addClass("next"),this.elements.eq(this.previousIndex()).addClass("previous"),this.elements.eq(this.current).addClass("current")},e.prototype.showRegions=function(){var e,t,n,r,i;r=this.options.regions,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.showRegion(e));return i},e.prototype.showRegion=function(e){var t,n,r;return t=this.elements.eq(this.current),n=this.getJQueryObject(e.dest,this.container),r=this.getJQueryObject(e.selector,t),console.info(n,r),n.html(r.html())},e.prototype.getJQueryObject=function(e,t){return typeof e=="string"?(t||$()).find(e):e instanceof jQuery?e:jQuery(e)},e}();var CrossFadingSlideView,__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};CrossFadingSlideView=function(e){function t(e,t,n,r){this.elements=e,this.current=t,this.options=n,this.container=r,this.elements.eq(this.current).siblings().css("display","none"),this.showRegions()}return __extends(t,e),t.prototype.show=function(e,t){var n;if(e===this.current)return;return n=this.elements.eq(this.current),n.css("z-index",2),this.elements.eq(e).css({"z-index":1,display:"block"}),n.fadeOut(this.options.fade_out_time,t),this.current=e,this.showRegions(),this.updateActiveClasses()},t}(DefaultSlideView);var FadingSlideView,__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};FadingSlideView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.show=function(e,t){var n,r=this;if(e===this.current)return;return n=this.elements.eq(this.current),n.fadeOut(this.options.fade_out_time,function(){return r.elements.eq(e).fadeIn(r.options.fade_in_time,t)}),this.current=e,this.showRegions(),this.updateActiveClasses()},t}(CrossFadingSlideView);var SlideTator;SlideTator=function(){function e(e){var t=this;this.options=e,this.shouldBindButtons()&&this.bindPrevAndNextButtons(),this.current=0,this.elements=this.getJQueryObject(this.options.slides),this.slideView=new this.options.slide_view(this.elements,this.current,this.options,this.getContainer()),this.options.auto_start===!0&&(this.getContainer().on("mouseenter",function(){return t.stop()}),this.getContainer().on("mouseleave",function(){return t.start()}),this.start())}return e.prototype.shouldBindButtons=function(){return"previous_button"in this.options&&"next_button"in this.options},e.prototype.bindPrevAndNextButtons=function(){var e,t,n=this;return t=this.getJQueryObject(this.options.previous_button),e=this.getJQueryObject(this.options.next_button),t.on("click",function(){return n.stop(),n.previous(function(){return n.start()})}),e.on("click",function(){return n.stop(),n.next(function(){return n.start()})})},e.prototype.getContainer=function(){return typeof this.options.container=="string"&&(this.options.container=jQuery(this.options.container)),this.options.container},e.prototype.show=function(e){return this.slideView.show(e)},e.prototype.next=function(e){var t=this;return this.getContainer().trigger("before:show","next"),this.slideView.next(function(){return t.getContainer().trigger("after:show","next"),e()})},e.prototype.previous=function(e){var t=this;return this.getContainer().trigger("before:show","previous"),this.slideView.previous(function(){return t.getContainer().trigger("after:show","previous"),e()})},e.prototype.start=function(){if(this.started!==!0)return this.run()},e.prototype.run=function(){var e=this;return this.started=!0,this._timeOut=setTimeout(function(){return e.next(function(){return e.run()})},this.options.delay)},e.prototype.stop=function(){return this.started=!1,clearTimeout(this._timeOut)},e.prototype.getJQueryObject=function(e,t){return typeof e=="string"?(t||this.getContainer()).find(e):e instanceof jQuery?e:jQuery(e)},e}();